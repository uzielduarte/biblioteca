<%= form_with model: libro, class:"formulario-libro" do |form| %>
  <div class="formulario-libro__nombre">
    <%= form.label :nombre %>
    <%= form.text_field :nombre, placeholder: "Nombre", required: Libro.validators_on(:nombre).any? %>
  </div>

  <div class="formulario-libro__autor">
    <%= form.label :autor %>
    <%= form.text_field :autor, placeholder: "Autor", required: Libro.validators_on(:autor).any? %>
  </div>

  <div class="formulario-libro__descripcion">
    <%= form.label :descripcion %>
    <%= form.text_area :descripcion, rows: 4, required: Libro.validators_on(:descripcion).any? %>
  </div>

  <div class="formulario-libro__categoria">
    <%= form.label :categoria_id, "Categoría" %>
    <%= form.collection_select :categoria_id, @categorias, :id, :nombre, prompt: "Seleccione una categoría", required: Libro.validators_on(:cantidad).any? %>
  </div>

  <div class="formulario-libro__cantidad">
    <%= form.label :cantidad %>
    <%= form.number_field :cantidad, required: Libro.validators_on(:cantidad).any? %>
  </div>

  <div class="formulario-libro__fecha">
    <%= form.label :fecha_publicacion %>
    <%= form.date_field :fecha_publicacion, required: Libro.validators_on(:fecha_publicacion).any? %>
  </div>

  <div class="formulario-libro__portada">
    <%= form.label :portada %>
    <%= form.file_field :portada, accept: "image/*" %>
  </div>
  <% if libro.portada.attached? %>
    <div>
      <%= image_tag libro.portada %>
    </div>
  <% end %>

  <div class="formulario-libro__submit">
    <%= form.submit(libro.new_record? ? "Agregar libro" : "Guardar cambios") %>
  </div>
<% end %>